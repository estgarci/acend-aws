(this.webpackJsonpacend=this.webpackJsonpacend||[]).push([[0],{283:function(e,t){},324:function(e,t,n){},464:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),c=n(21),a=n.n(c),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,487)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))},o=(n(267),n(268),n(269),n(323),n(324),n(76)),l=n(77),u=n(78),j=n(80),h=n(63),d=n(143),b=n(144),f=(n(325),n(45)),O=n(60),g=(n(330),n(254)),p=n(255),m=n.n(p),x=n(7),v="COUNTRIES_LOADING",N="ADD_COUNTRIES",y="COUNTRIES_FAILED",w="AIRPORTS_LOADING",S="ADD_AIRPORTS",k="AIRPORTS_FAILED",I="FLIGHTS_LOADING",L="ADD_FLIGHTS",C="FLIGHTS_FAILED",M="LOGIN_REQUEST",D="LOGIN_SUCCESS",T="LOGIN_FAILURE",E="LOGOUT_REQUEST",F="LOGOUT_SUCCESS",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,airports:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,errMess:null,airports:t.payload});case w:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,errMess:null,airports:[]});case k:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,errMess:null,countries:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,errMess:null,countries:t.payload});case v:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,errMess:null,countries:[]});case y:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,errMess:null,flights:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,errMess:null,flights:t.payload});case I:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,errMess:null,flights:[]});case C:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("creds")?JSON.parse(localStorage.getItem("creds")):null,errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,isAuthenticated:!1,user:t.creds});case D:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isAuthenticated:!0,errMess:"",token:t.token});case T:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isAuthenticated:!1,errMess:t.message});case E:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,isAuthenticated:!0});case F:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isAuthenticated:!1,token:"",user:null});default:return e}},P=n(145),z=n(25),G=n(26),B=n(469),H=n(470),J=n(472),V=n(471),Q=n(27),W=n(79),$=n(486),q=n(484),K=n(3);function X(e){var t=Object(s.useState)(1),n=Object(G.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(0),i=Object(G.a)(a,2),o=i[0],l=i[1],u=Object(s.useState)(0),j=Object(G.a)(u,2),h=j[0],d=j[1],b=function(t,n,s){t>s&&(n(--t),e.setTravelers(r+o+h-1))},f=function(t,n,s){t<=s&&e.travelers<s&&(n(++t),e.setTravelers(r+o+h+1))};return Object(K.jsxs)("div",{id:"travelers-modal",className:"pb-3 pt-3 text-center",children:[Object(K.jsx)("div",{id:"arrow","data-popper-arrow":!0}),Object(K.jsx)("h5",{children:"Travelers"}),Object(K.jsx)("hr",{style:{width:"90%"}}),Object(K.jsxs)("div",{className:"pb-1 pr-3 pl-3 text-left",children:[Object(K.jsxs)(B.a,{className:"pb-2 text-right align-text-bottom",children:[Object(K.jsx)(H.a,{xs:4,className:"text-left my-auto pr-0 align-text-bottom pr-4",children:"Adults"}),Object(K.jsxs)(H.a,{xs:8,className:"text-right pl-0",children:[Object(K.jsx)("button",{className:"select-button",onClick:function(){b(r,c,1)},children:Object(K.jsx)(Q.a,{icon:"minus"})}),Object(K.jsx)("input",{type:"submit",className:"align-text-bottom",value:r}),Object(K.jsx)("button",{className:"select-button",onClick:function(){return f(r,c,6)},children:Object(K.jsx)(Q.a,{icon:"plus"})})]})]}),Object(K.jsxs)(B.a,{className:"pb-2 pt-2 text-right",children:[Object(K.jsx)(H.a,{xs:4,className:"text-left pr-4 my-auto",children:"Children"}),Object(K.jsxs)(H.a,{xs:8,className:"text-right pl-0",children:[Object(K.jsx)("button",{className:"select-button ",onClick:function(){return b(o,l,0)},children:Object(K.jsx)(Q.a,{icon:"minus"})}),Object(K.jsx)("input",{type:"submit",className:"align-text-bottom",value:o,placeholder:"0"}),Object(K.jsx)("button",{className:"select-button",onClick:function(){return f(o,l,6)},children:Object(K.jsx)(Q.a,{icon:"plus"})})]})]}),Object(K.jsxs)(B.a,{className:"pb-3 pt-2 text-right",children:[Object(K.jsx)(H.a,{xs:4,className:"text-left pr-0 my-auto",children:"Infants"}),Object(K.jsxs)(H.a,{xs:8,className:"text-right pl-0",children:[Object(K.jsx)("button",{className:"select-button",onClick:function(){return b(h,d,0)},children:Object(K.jsx)(Q.a,{icon:"minus"})}),Object(K.jsx)("input",{type:"submit",className:"align-text-bottom",value:h,placeholder:"0"}),Object(K.jsx)("button",{className:"select-button",onClick:function(){return f(h,d,6)},children:Object(K.jsx)(Q.a,{icon:"plus"})})]})]}),Object(K.jsx)(V.a,{size:"small",color:"primary",className:"w-100",onClick:e.handleClick,children:"Done"})]})]})}var Y=function(e){var t=Object(s.useState)(1),n=Object(G.a)(t,2),r=n[0],c=n[1],a=function(){"travelers"!==e.visibleModal?e.setVisibleModal("travelers"):e.setVisibleModal(null),c(r)},i={damping:15,stiffness:300},o=Object($.a)(0,i),l=Object($.a)(.5,i);return Object(K.jsx)(W.a,{interactive:!0,visible:"travelers"===e.visibleModal,animation:!0,onMount:function(){o.set(.97),l.set(1)},role:"tooltip",onHide:function(e){var t=e.unmount,n=l.onChange((function(e){e<=.5&&(n(),t())}));l.set(.5),o.set(0)},render:function(e){return Object(K.jsx)(q.a.div,Object(x.a)(Object(x.a)({style:{scale:l,opacity:o}},e),{},{children:Object(K.jsx)(X,{handleClick:a,setTravelers:c,travelers:r})}))},children:Object(K.jsxs)("button",{onClick:a,className:"btn btn-sm btn-link text-left text-sm-right dropdown-toggle travelers-button",children:[r,"\xa0",1===r?"Traveler ":"Travelers"]})})};function Z(e){var t=Object(s.useState)("Economy"),n=Object(G.a)(t,2),r=n[0],c=n[1],a=function(t){c(t),e.setFlightClass(t)},i="type-button flightType-input pb-2 pt-2 mb-1 text-left focused d-flex w-100 ";return Object(K.jsxs)("div",{id:"flightClassModal",className:"pb-3 pt-3 text-center",children:[Object(K.jsx)("div",{id:"arrow","data-popper-arrow":""}),Object(K.jsx)("h5",{children:"Flight Class"}),Object(K.jsx)("hr",{style:{width:"90%"}}),Object(K.jsx)(V.a,{active:!0,color:"white",className:"Economy"===r?i+"selected":i,onClick:function(){return a("Economy")},children:"Economy"}),Object(K.jsx)(V.a,{color:"white",className:"Business"===r?i+"selected":i,onClick:function(){return a("Business")},children:"Business"}),Object(K.jsx)(V.a,{active:!0,color:"white",className:"Premium"===r?i+"selected-premium":i,onClick:function(){return a("Premium")},children:"Premium"})]})}var ee=function(e){var t=Object(s.useState)("Economy"),n=Object(G.a)(t,2),r=n[0],c=n[1],a=function(){"flightClass"!==e.visibleModal?e.setVisibleModal("flightClass"):e.setVisibleModal(null),c(r)},i={damping:15,stiffness:300},o=Object($.a)(0,i),l=Object($.a)(.5,i);return Object(K.jsx)(W.a,{interactive:!0,visible:"flightClass"===e.visibleModal,animation:!0,onMount:function(){o.set(.965),l.set(1)},onHide:function(e){var t=e.unmount,n=l.onChange((function(e){e<=.5&&(n(),t())}));l.set(.5),o.set(0)},render:function(e){return Object(K.jsxs)(q.a.div,Object(x.a)(Object(x.a)({style:{scale:l,opacity:o}},e),{},{children:[Object(K.jsx)("div",{id:"arrow","data-popper-arrow":!0}),Object(K.jsx)(Z,{handleClick:a,setFlightClass:c})]}))},children:Object(K.jsx)("button",{onClick:a,className:"btn btn-sm text-left text-sm-right btn-link dropdown-toggle travelers-button pr-0",children:r})})},te=function(){return Object(K.jsxs)("div",{className:"text-center",children:[Object(K.jsx)("i",{className:"fa fa-spinner fa-pulse fa text-primary"}),Object(K.jsx)("div",{children:"loading"})]})};function ne(e){var t=e.airports,n=e.onSuggestHandler,s=e.suggestions,r=new RegExp("d","gi");return s.length?Object(K.jsx)("div",{id:"flightSuggestionModal",className:"mr-1 ml-1 bg-white text-center",children:s.map((function(e,t){e.name=e.name.replace("Airport","").replace("International","Int.");var s=e.iata_code?e.iata_code+" - ":"",c=e.name+" - "||!1,a=e.iso_region.match(r)?e.iso_region.substr(e.iso_region.indexOf("-")+1):e.iso_country,i="".concat(s," ").concat(c," ").concat(a);return c.length>30&&(i=s+c.slice(0,30)+"."+a),Object(K.jsx)("div",{className:"suggestion",onClick:function(){return n(e.iata_code+" - "+e.name,e)},children:i},t)}))}):t.isLoading?Object(K.jsx)("div",{id:"flightSuggestionModal",className:"bg-white",children:Object(K.jsx)(te,{})}):Object(K.jsx)("div",{className:"container"})}var se=function(e){var t=Object(s.useState)(""),n=Object(G.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(""),i=Object(G.a)(a,2),o=i[0],l=i[1],u=Object(s.useState)(!1),j=Object(G.a)(u,2),h=j[0],d=j[1],b=function(t,n){c(t),e.setFlightSearchInfo((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(z.a)({},e.direction,n))})),l([])},f={damping:15,stiffness:300},O=Object($.a)(0,f),g=Object($.a)(.5,f),p=function(t){var n=[];t.length>0?n=function(t){var n=new RegExp("".concat(t),"gi"),s=e.countries.countries.filter((function(e){return e.englishShortName.match(n)}));if(s.length)return e.airports.airports.filter((function(e){return e.iso_country===s[0].alpha2Code}));var r=e.airports.airports.filter((function(e){return e.municipality.match(n)||e.iata_code.match(n)||e.name.match(n)}));return!!r.length&&r}(t):d(!1),n&&n.length>3?l(n.slice(0,3)):l(n),c(t),h||d(!0)};return Object(s.useEffect)((function(){p(r)}),[e.airports.airports]),Object(K.jsx)(W.a,{interactive:!0,visible:h,animation:!0,onMount:function(){O.set(.97),g.set(1)},placement:"bottom",role:"tooltip",onHide:function(e){var t=e.unmount,n=g.onChange((function(e){e<=.5&&(n(),t())}));g.set(.5),O.set(0)},render:function(t){return Object(K.jsx)(q.a.div,Object(x.a)(Object(x.a)({style:{scale:g,opacity:O}},t),{},{children:Object(K.jsx)(ne,{airports:e.airports,suggestions:o,onSuggestHandler:b})}))},children:Object(K.jsx)("input",{type:"text",id:"airport",name:"airport",className:"b-0",placeholder:"Airport, Country or city",onChange:function(e){p(e.target.value)},value:r})})},re=n(151);function ce(e){var t=Object(s.useState)(null),n=Object(G.a)(t,2),r=n[0],c=n[1];return Object(K.jsx)(K.Fragment,{children:e.showReturn?Object(K.jsx)(re.DateRangePicker,{startDateId:"startDate",endDateId:"endDate",startDate:e.flightSearchInfo.startDate,endDate:e.flightSearchInfo.endDate,onDatesChange:function(t){var n=t.startDate,s=t.endDate;e.setFlightSearchInfo((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(z.a)({},"startDate",n))})),e.setFlightSearchInfo((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(z.a)({},"endDate",s))}))},focusedInput:r,onFocusChange:function(e){c(e)},numberOfMonths:2,keepOpenOnDateSelect:!0}):Object(K.jsx)(re.SingleDatePicker,{startDateId:"startDate",date:e.flightSearchInfo.startDate,onDateChange:function(t){return e.setFlightSearchInfo((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(z.a)({},"startDate",t))}))},focused:r,onFocusChange:function(e){var t=e.focused;return c(t)},autoFocus:!0})})}var ae=function(e){var t=Object(s.useState)(null),n=Object(G.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)({flightClass:"economy",roundTrip:!0,travelers:{adults:1,children:0,infants:0},origin:null,destination:null,startDate:null,endDate:null}),i=Object(G.a)(a,2),o=i[0],l=i[1];return Object(K.jsxs)("div",{id:"flights-nav",className:"container-sm text-nowrap header-main ",children:[Object(K.jsxs)(B.a,{id:"topRow",className:"mb-3",children:[Object(K.jsx)(H.a,{xs:12,sm:6,className:"text-left",children:Object(K.jsxs)(J.a,{className:"roundtripBtnGroup",children:[Object(K.jsx)(V.a,{size:"sm",outline:!0,color:"primary",className:"w115 text-left text-sm-center",onClick:function(){return l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(z.a)({},"roundTrip",!0))}))},active:!0===o.roundTrip,children:"Round Trip"}),Object(K.jsx)(V.a,{size:"sm",outline:!0,color:"primary",className:"w115 text-left text-sm-center",onClick:function(){return l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(z.a)({},"roundTrip",!1))}))},active:!1===o.roundTrip,children:"One Way"})]})}),Object(K.jsxs)(H.a,{xs:12,sm:6,className:"text-left text-sm-right",children:[Object(K.jsx)(Y,{setFlightSearchInfo:l,flightSearchInfo:o,setVisibleModal:c,visibleModal:r}),Object(K.jsx)(ee,{setFlightSearchInfo:l,flightSearchInfo:o,setVisibleModal:c,visibleModal:r})]})]}),Object(K.jsxs)(B.a,{className:"middleRow mb-2",children:[Object(K.jsx)(H.a,{lg:4,children:Object(K.jsxs)("div",{className:"flex-column form-group mb-2 pl-2 pr-2 d-flex justify-content-center search-input search-input-lg",children:[Object(K.jsx)(B.a,{className:"text-left",children:Object(K.jsxs)(H.a,{children:[Object(K.jsx)(Q.a,{icon:"plane-departure"}),"\xa0\xa0\xa0Leaving from"]})}),Object(K.jsx)(B.a,{children:Object(K.jsx)(H.a,{className:"d-flex justify-content-center",children:Object(K.jsx)(se,{countries:e.countries,airports:e.airports,setFlightSearchInfo:l,flightSearchInfo:o,direction:"origin"})})})]})}),Object(K.jsx)(H.a,{lg:4,children:Object(K.jsxs)("div",{className:"flex-column form-group mb-2 pl-2 pr-2 d-flex justify-content-center search-input search-input-lg",children:[Object(K.jsx)(B.a,{className:"text-left",children:Object(K.jsxs)(H.a,{children:[Object(K.jsx)(Q.a,{icon:"plane-arrival"}),"\xa0\xa0Going to"]})}),Object(K.jsx)(B.a,{children:Object(K.jsx)(H.a,{className:"d-flex justify-content-center",children:Object(K.jsx)(se,{countries:e.countries,airports:e.airports,setFlightSearchInfo:l,flightSearchInfo:o,direction:"destination"})})})]})}),Object(K.jsx)(H.a,{lg:4,children:Object(K.jsxs)("div",{className:" flex-column pl-2 pr-2 d-flex justify-content-center text-center search-input search-input-lg",children:[Object(K.jsx)(B.a,{className:"text-left",children:Object(K.jsxs)(H.a,{className:"",children:[Object(K.jsx)(Q.a,{icon:"calendar-alt"}),"\xa0\xa0Travel date",o.roundTrip?"":"s"]})}),Object(K.jsx)(B.a,{children:Object(K.jsx)(H.a,{children:Object(K.jsx)(ce,{flightSearchInfo:o,setFlightSearchInfo:l,showReturn:o.roundTrip})})})]})})]}),Object(K.jsx)(B.a,{className:"search-control-row-group",children:Object(K.jsx)(H.a,{xs:12,className:"d-flex search-control-col justify-content-center",children:Object(K.jsx)(V.a,{color:"primary",className:"search-control-btn-lg",size:"lg",onClick:function(t){console.log(o),o.destination&&o.origin&&o.startDate&&e.fetchFlights({origin:o.origin.ident,destination:o.destination.ident,departure:o.startDate,return:o.endDate})},children:"Search Flights"})})})]})},ie=n(15),oe=n(257),le=n(152),ue=n.n(le),je=n(473),he=n(474),de=n(475),be=n(476),fe=n(477),Oe=n(478),ge=n(485),pe=n(479),me=n(480),xe=n(481),ve=n(482),Ne=n(483),ye=n(258),we=n.n(ye),Se=n(259),ke=n.n(Se),Ie=(n(439),"https://localhost:3443/");function Le(e){return Object(K.jsx)(we.a,{appId:"353877233072604",size:"medium",fields:"name",scope:"public_profile",callback:function(t){t&&(console.log(t),e.facebookLoginUser(t),e.toggleModal())},textButton:"Sign in with Facebook",buttonStyle:{backgroundColor:"rgb(24, 119, 242)",borderRadius:"inherit",fontSize:"1rem",border:"0",left:"0"," opacity":"0"," position":"absolute"," top":"0",width:"100%",textTransform:"capitalize"},icon:"fa-facebook"})}function Ce(e){var t=function(){var t=Object(oe.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&(console.log(n),e.toggleModal());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(ke.a,{clientId:"2311bf273d646f269010",size:"medium",onSuccess:t,className:"github-login"})})}var Me=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={isNavOpen:!1,isModalOpen:!1},s.toggleNav=s.toggleNav.bind(Object(ie.a)(s)),s.toggleModal=s.toggleModal.bind(Object(ie.a)(s)),s.handleLogin=s.handleLogin.bind(Object(ie.a)(s)),s.handleLogout=s.handleLogout.bind(Object(ie.a)(s)),s}return Object(l.a)(n,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleLogin",value:function(e){this.toggleModal(),this.props.loginUser({username:this.username.value,password:this.password.value}),e.preventDefault()}},{key:"handleLogout",value:function(){this.props.logoutUser()}},{key:"render",value:function(){var e=this;return Object(K.jsxs)(r.a.Fragment,{children:[Object(K.jsx)(je.a,{className:"main-nav container-fluid pb-0 pt-0",light:!0,expand:"md",children:Object(K.jsxs)("div",{className:"container p-0",children:[Object(K.jsx)(he.a,{id:"title",href:"/",children:"Acend"}),Object(K.jsx)(de.a,{onClick:this.toggleNav}),Object(K.jsx)(be.a,{className:"d-flex justify-content-end",isOpen:this.state.isNavOpen,navbar:!0,children:Object(K.jsxs)(fe.a,{navbar:!0,children:[Object(K.jsx)(Oe.a,{className:"mr-2 ",children:this.props.auth.isAuthenticated?Object(K.jsxs)("div",{className:"d-flex text-right align-items-end",children:[Object(K.jsxs)("b",{className:"",children:[" ",this.props.auth.user.name.split(" ")[0]]}),Object(K.jsx)(V.a,{className:"text-right pr-0 pb-0",color:"link",onClick:this.handleLogout,children:Object(K.jsx)(Q.a,{className:"",size:"lg",icon:"sign-out-alt"})})]}):Object(K.jsxs)(V.a,{size:"md",color:"outline-dark",onClick:this.toggleModal,children:[Object(K.jsx)(Q.a,{className:"mr-2",icon:"sign-in-alt"}),"Log in"]})}),this.props.auth.isAuthenticated?Object(K.jsx)("div",{}):Object(K.jsx)(Oe.a,{className:"",children:Object(K.jsxs)(V.a,{children:[Object(K.jsx)(Q.a,{className:"mr-2",icon:"level-up-alt"}),"Sign up"]})})]})})]})}),Object(K.jsx)(ge.a,{size:"md",isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:Object(K.jsx)(pe.a,{className:"",children:Object(K.jsxs)(B.a,{className:"",children:[Object(K.jsxs)(H.a,{xs:"6",className:"",children:[Object(K.jsx)(Le,{toggleModal:this.toggleModal,facebookLoginUser:this.props.facebookLoginUser}),Object(K.jsx)(Ce,{})]}),Object(K.jsx)(H.a,{xs:"6",className:"align-self-center",children:Object(K.jsx)(B.a,{className:"justify-content-center",children:Object(K.jsxs)(me.a,{className:"",onSubmit:this.handleLogin,children:[Object(K.jsxs)(xe.a,{children:[Object(K.jsx)(ve.a,{htmlFor:"username",children:"Username"}),Object(K.jsx)(Ne.a,{className:"",type:"text",id:"username",name:"username",innerRef:function(t){return e.username=t}})]}),Object(K.jsxs)(xe.a,{children:[Object(K.jsx)(ve.a,{htmlFor:"password",children:"Password"}),Object(K.jsx)(Ne.a,{className:"",type:"password",id:"password",name:"password",innerRef:function(t){return e.password=t}})]}),Object(K.jsx)(xe.a,{check:!0,children:Object(K.jsxs)(ve.a,{check:!0,children:[Object(K.jsx)(Ne.a,{className:"",type:"checkbox",name:"remember",innerRef:function(t){return e.remember=t}}),"Remember me"]})}),Object(K.jsx)(V.a,{className:"my-2 text-center",type:"submit",value:"submit",color:"primary",children:"Login"})]})})})]})})})]})}}]),n}(s.Component);function De(e){var t=e.flight,n=function(e){var t=e.getHours(),n=t>=12?"pm":"am";return(t=t%12||12)+":"+(Math.floor(e.getMinutes()/10)+"0")+" "+n},s=n(new Date(t.scheduled_off)),r=n(new Date(t.scheduled_in));return Object(K.jsx)("div",{className:"container p-3 m-2 bg-white justify-content-center ",children:Object(K.jsxs)(B.a,{xs:12,children:[Object(K.jsxs)(H.a,{xs:12,sm:4,className:"align-self-center",children:[Object(K.jsxs)(B.a,{className:"justify-content-center h5",children:[t.origin.code.substring(1),"\xa0",Object(K.jsx)("svg",{class:"DateRangePickerInput_arrow_svg DateRangePickerInput_arrow_svg_1",focusable:"false",viewBox:"0 0 1000 1000",children:Object(K.jsx)("path",{d:"M694 242l249 250c12 11 12 21 1 32L694 773c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210-210H68c-13 0-23-10-23-23s10-23 23-23h806L662 275c-21-22 11-54 32-33z"})}),"\xa0",t.destination.code.substring(1)]}),Object(K.jsx)(B.a,{xs:12,className:"justify-content-center",children:Object(K.jsx)("small",{children:Object(K.jsx)(V.a,{size:"sm",color:"link",children:"Details"})})})]}),Object(K.jsxs)(H.a,{sm:4,className:"align-self-center",children:[Object(K.jsxs)(B.a,{className:"justify-content-center h4",children:[s,"\xa0\xa0",Object(K.jsx)("svg",{class:"DateRangePickerInput_arrow_svg DateRangePickerInput_arrow_svg_1",focusable:"false",viewBox:"0 0 1000 1000",children:Object(K.jsx)("path",{d:"M694 242l249 250c12 11 12 21 1 32L694 773c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210-210H68c-13 0-23-10-23-23s10-23 23-23h806L662 275c-21-22 11-54 32-33z"})}),"\xa0\xa0",r]}),Object(K.jsxs)(B.a,{xs:12,className:"justify-content-center",children:["Operatred by ",t.operator," "]})]}),Object(K.jsxs)(H.a,{sm:4,className:"align-self-center text-center",children:[Object(K.jsx)(B.a,{className:"justify-content-center h4",children:"$777"}),Object(K.jsx)(V.a,{className:"bg-secondary",children:"Book flight"})]})]})})}var Te=function(e){var t=e.flights.flights.map((function(e){return Object(K.jsx)(De,{flight:e})}));return e.flights.isLoading?Object(K.jsx)("div",{className:"container",children:Object(K.jsx)("div",{className:"row ",children:Object(K.jsx)(te,{})})}):e.flights.errMess?Object(K.jsx)("div",{className:"container",children:Object(K.jsx)("div",{className:"row",children:Object(K.jsx)("div",{className:"col header-main text-center",children:Object(K.jsx)("h4",{className:"text-primary",children:"No flights found "})})})}):t.length?Object(K.jsx)("div",{id:"flights-display",className:"container ",children:t}):Object(K.jsx)(K.Fragment,{})},Ee=function(){return{type:v}},Fe=function(e){return{type:y,payload:e}},_e=function(e){return{type:N,payload:e}},Re=function(){return{type:w}},Ae=function(e){return{type:k,payload:e}},Ue=function(e){return{type:S,payload:e}},Pe=function(){return{type:I}},ze=function(e){return{type:C,payload:e}},Ge=function(e){return{type:L,payload:e}},Be=function(e){return{type:M,creds:e}},He=function(e){return{type:D,token:e.token}},Je=function(e){return{type:T,message:e}},Ve=function(){return function(e){e({type:E}),localStorage.removeItem("token"),localStorage.removeItem("creds"),e({type:F})}};var Qe=function(e){return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(ae,{fetchFlights:e.fetchFlights,flights:e.flights.flights,airports:e.airports,countries:e.countries}),Object(K.jsx)(Te,{flights:e.flights})]})},We={fetchAirports:function(){return function(e){return e(Re()),fetch(Ie+"api/airports").then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return e.filter((function(e){return e.iata_code&&e.municipality&&e.name}))})).then((function(t){return e(Ue(t))})).catch((function(t){return e(Ae(t.message))}))}},fetchCountries:function(){return function(e){return e(Ee()),fetch(Ie+"api/countries").then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(_e(t))})).catch((function(t){return e(Fe(t.message))}))}},fetchFlights:function(e){return function(e){return function(t){return t(Pe()),fetch(Ie+"api/flights?origin=".concat(e.origin,"&destination=").concat(e.destination)).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(Ge(e))})).catch((function(e){return t(ze(e.message))}))}}(e)},loginUser:function(e){return function(e){return function(t){return t(Be(e)),fetch(Ie+"users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(n){if(!n.success){var s=new Error("Error "+n.status);throw s.response=n,s}localStorage.setItem("token",n.token),localStorage.setItem("creds",JSON.stringify(e)),t(He(n))})).catch((function(e){return t(Je(e.message))}))}}(e)},logoutUser:function(){return Ve()},facebookLoginUser:function(e){return t=e,function(e){return e(Be(t)),fetch(Ie+"users/facebook/token",{headers:{Authorization:"Bearer "+t.accessToken}}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(n){if(!n.success){var s=new Error("Error "+n.status);throw s.response=n,s}localStorage.setItem("token",n.token),localStorage.setItem("creds",JSON.stringify(t)),e(He(n))})).catch((function(t){return e(Je(t.message))}))};var t},githubLoginUser:function(e){return function(e){return function(t){return console.log(e),fetch(Ie+"users/auth/github",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).catch((function(e){return t(Je(e.message))}))}}(e)}},$e=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAirports(),this.props.fetchCountries()}},{key:"render",value:function(){return Object(K.jsxs)("header",{className:"App-header",children:[Object(K.jsx)(Me,{githubLoginUser:this.props.githubLoginUser,facebookLoginUser:this.props.facebookLoginUser,auth:this.props.auth,loginUser:this.props.loginUser,logoutUser:this.props.logoutUser}),Object(K.jsx)(Qe,{fetchFlights:this.props.fetchFlights,flights:this.props.flights,airports:this.props.airports,countries:this.props.countries})]})}}]),n}(s.Component),qe=Object(f.connect)((function(e){return{airports:e.airports,countries:e.countries,flights:e.flights,auth:e.auth}}),We)($e);h.b.add(d.a,b.a);var Ke=Object(O.createStore)(Object(O.combineReducers)({auth:U,countries:R,airports:_,flights:A}),Object(O.applyMiddleware)(g.a,m.a)),Xe=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(K.jsx)(f.Provider,{store:Ke,children:Object(K.jsx)(P.a,{children:Object(K.jsx)(qe,{})})})}}]),n}(s.Component),Ye=Xe;a.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(Ye,{})}),document.getElementById("root")),i()}},[[464,1,2]]]);
//# sourceMappingURL=main.d570e5f6.chunk.js.map